<div class="favorites-container">
	<h2>Your Favorites</h2>
	@if (loading) {
		<div class="loading">
			<mat-spinner diameter="40"></mat-spinner>
		</div>
	}
	@if (error) {
		<p class="error">{{ error }}</p>
	}
	@if (!loading && !error) {
		@if (videos.length === 0) {
			<div class="no-favorites">
				<mat-icon>favorite_border</mat-icon>
				<h3>No favorite videos yet</h3>
				<p>Start liking videos to see them here!</p>
			</div>
		} @else {
			<div class="video-grid">
				@for (video of videos; track video.id) {
					<div class="video-card" (click)="onVideoClick(video)">
						<img [src]="getSafeImageUrl(video.thumbnailUrl)" [alt]="video.title" (error)="onImageError($event)">
						<h3>{{ video.title }}</h3>
						<p>{{ getChannelOrUserName(video) }}</p>
					</div>
				}
			</div>
		}
		<div class="load-more" *ngIf="hasNextPage">
			<div #loadMoreTrigger class="load-more-trigger">
				@if (loadingMore) {
					<mat-spinner diameter="30"></mat-spinner>
					<span>Loading more...</span>
				}
			</div>
		</div>
	}
</div>


